<% layout('layouts/boilerplate') %>

<!-- Data -->
<% 
    const reduction = [{name: "Reduction", src: "https://www.youtube.com/embed/vArGJLLdWh8", title: 'YouTube video player' }
];

    const yau = [
        {name: 'YAU', src: "https://www.youtube.com/embed/KWOZHbDdOeo", title: 'YouTube video player'},
        {name: 'Advanced Edge Pairing', src: "https://www.youtube.com/embed/XfNVsSl30LQ", title: 'YouTube video player'},
        {name: 'Yau Example Solves', src: "https://www.youtube.com/embed/sNVCshCH81k", title: 'YouTube video player'}
];


%>

<!-- Logic (because id rcieved is a string and it was causing recursion in the UI) -->
<% 
    let data;
    switch(id2) {
        case 'reduction':
            data = reduction;
            break;
        case 'yau':
            data = yau;
            break;
    }
%> 

<!-- Display -->
<section id="resources">
<% for(let i of data){ %>
    
        <h1><%= i.name %> </h1>
        <div class="box"><a href=""><iframe src=<%= i.src %>  title=<%= i.title %>  frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></a></div>
    
<% } %>  
<h6>Source <a href="https://www.youtube.com/channel/UCqTVfT9JQqhA6_Hi_h_h97Q">Jperm</a></h6>
</section>

<!-- External Js -->
  <script>
    const boxes = document.querySelectorAll(".box");
    window.addEventListener("scroll", checkBoxes);

checkBoxes();

function checkBoxes() {
const triggerBottom = (window.innerHeight / 5) * 4;

boxes.forEach((box) => {
  const boxTop = box.getBoundingClientRect().top;

  if (boxTop < triggerBottom) {
    box.classList.add("show");
  } else {
    box.classList.remove("show");
  }
});
}
</script>